(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return d});var a=n(54),r=n(55),o=n(26),l=n(0),c=n.n(l),i=n(5459),u=n.n(i),s=n(87),m=c.a.createContext();function d(e){var t=e.children,n=Object(l.useState)({}),i=Object(o.a)(n,2),d=i[0],f=i[1],p=function(e,t,n){var r=Object(a.a)(e),o=n<0,l=n>e.length-1;if(!o&&!l){var c=r[t];r.splice(t,1),r.splice(n,0,c)}return r};var w=function(e){var t=e.length;return t>9&&(t=9),Math.random().toString(36).substr(2,t)},b={file:d,setFile:f,addRow:function(e){var t=e.rowIndex,n=e.newRow,o=d.data.slice(0),l=Object(a.a)(o);l.splice(t+1,0,n);var c=Object(r.a)({},d,{data:l});f(c)},deleteRow:function(e){var t=e.rowIndex,n=d.data.slice(0);n.splice(t,1);var a=Object(r.a)({},d,{data:n});f(a)},editCell:function(e){var t=e.rowIndex,n=e.columnIndex,a=e.value,o=d.data.slice(0);o[t][n-1]=a;var l=Object(r.a)({},d,{data:o});f(l)},downloadFile:function(){if(d.columns&&d.data){var e=Object(a.a)(d.data);e.unshift(d.columns);var t=s.b(e);u()(t,d.title)}},generateNewRow:function(e){var t=e.row,n={},a={};d.data.forEach(function(e){e.forEach(function(e,t){var r=d.columns[t];n[r]||(n[r]={}),n[r][e]||(n[r][e]=0),n[r][e]++;var o=e.length;a[r]||(a[r]={}),a[r][o]||(a[r][o]=0),a[r][o]++})});var r=d.data.length;return t.map(function(e,t){var o=d.columns[t],l=Object.keys(n[o]).length/r,c=l<.5,i=Object.keys(a[o]).length,u="";if(c)u=e;else if(l>.99&&i<=2){var s=e.length;u=w({length:s})}return u})},moveRowUp:function(e){var t=e.rowIndex,n=p(d.data,t,t-1),a=Object(r.a)({},d,{data:n});f(a)},moveRowDown:function(e){var t=e.rowIndex,n=p(d.data,t,t+1),a=Object(r.a)({},d,{data:n});f(a)}};return c.a.createElement(m.Provider,{value:b},t)}},53:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var a=n(26),r=n(0),o=n.n(r),l=o.a.createContext();function c(e){var t=e.children,n=Object(r.useState)(!1),c=Object(a.a)(n,2),i=c[0],u=c[1],s={raw:i,toggleRaw:function(){u(!i)}};return o.a.createElement(l.Provider,{value:s},t)}},5463:function(e,t,n){e.exports=n(5787)},5468:function(e,t,n){},5469:function(e,t,n){},5783:function(e,t){},5787:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),l=n.n(o),c=(n(5468),n(5469),n(18)),i=n(10),u=n(39),s=n.n(u),m=n(86),d=n(5458),f=n(22),p=n(87),w=n(19),b=Object(c.withStyles)(function(e){return{fab:{margin:e.spacing.unit}}})(function(e){e.classes;var t=Object(a.useContext)(w.a).setFile;return r.a.createElement(d.FilePicker,{extensions:["tsv"],onChange:function(){var e=Object(m.a)(s.a.mark(function e(n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a(n);case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){alert(e)}},r.a.createElement(f.CloudUpload,null))}),v=Object(c.withStyles)({root:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10}})(function(e){var t=e.classes,n=Object(a.useContext)(w.a).file;return r.a.createElement("div",{className:t.root},r.a.createElement(i.AppBar,{position:"static"},r.a.createElement(i.Toolbar,{variant:"dense"},r.a.createElement(i.Tooltip,{title:"Open local .tsv file","aria-label":"Add"},r.a.createElement(i.IconButton,{className:t.menuButton,color:"inherit","aria-label":"Open"},r.a.createElement(b,null))),r.a.createElement(i.Typography,{variant:"h6",color:"inherit"},n.title||"TSV/MD Editor"))))});var E=Object(c.withStyles)(function(e){return{root:{padding:"10em",textAlign:"center"},fab:{}}})(function(e){var t=e.classes,n=Object(a.useContext)(w.a).file,o="Open local .tsv file",l=r.a.createElement("div",{className:t.root},r.a.createElement(i.Tooltip,{title:o,"aria-label":"Add"},r.a.createElement(i.Fab,{color:"primary","aria-label":o,className:t.fab},r.a.createElement(b,null)))),c=r.a.createElement("div",null);return 0===Object.keys(n).length&&(c=l),c}),g=n(26),h=n(53);var C=Object(c.withStyles)({iconButton:{}},{name:"CustomToolbar"})(function(e){var t=e.classes,n=Object(a.useContext)(w.a).downloadFile,o=Object(a.useContext)(h.a),l=o.raw,c=o.toggleRaw;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Tooltip,{title:"Toggle Preview/Raw"},r.a.createElement(i.IconButton,{className:t.iconButton,onClick:c},l?r.a.createElement(f.Code,null):r.a.createElement(f.LineStyle,null))),r.a.createElement(i.Tooltip,{title:"Download TSV"},r.a.createElement(i.IconButton,{className:t.iconButton,onClick:n},r.a.createElement(f.CloudDownload,null))))}),x=Object(a.lazy)(function(){return Promise.resolve().then(function(){return n(5788)})}),O=Object(c.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=Object(a.useState)(25),o=Object(g.a)(n,2),l=o[0],c=o[1],u=Object(a.useContext)(w.a).file,s={responsive:"scroll",fixedHeader:!0,print:!1,resizableColumns:!1,selectableRows:!1,rowsPerPage:l,rowsPerPageOptions:[25,50,100],onChangeRowsPerPage:function(e){c(e)},download:!1,customToolbar:function(){return r.a.createElement(C,null)}},m=r.a.createElement(i.CircularProgress,{className:t.progress,color:"primary",disableShrink:!0}),d=r.a.createElement(h.b,null,r.a.createElement(a.Suspense,{fallback:m},r.a.createElement(x,{file:u,options:s}))),f=r.a.createElement("div",null);return Object.keys(u).length>0&&(f=d),f}),y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w.b,null,r.a.createElement(v,null),r.a.createElement(E,null),r.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},5788:function(e,t,n){"use strict";n.r(t);var a=n(54),r=n(0),o=n.n(r),l=n(18),c=n(5461),i=n.n(c),u=n(5462),s=n(19),m=n(53),d=Object(l.withStyles)(function(e){return{}})(function(e){e.classes;var t=e.value,n=(e.tableMeta,e.tableMeta),a=n.columnIndex,l=n.rowIndex,c=Object(r.useContext)(s.a).editCell,i=Object(r.useContext)(m.a).raw;return o.a.createElement(u.BlockEditable,{style:{padding:"0.5em"},raw:i,markdown:t,inputFilters:[[/<br>/gi,"\n"]],outputFilters:[[/\n/gi,"<br>"]],onEdit:function(e){c({rowIndex:l,columnIndex:a,value:e})}})}),f=n(26),p=n(10),w=n(22);var b=function(e){var t=e.row,n=e.rowIndex,a=e.menuClose,l=e.clickableComponent,c=Object(r.useContext)(s.a),i=c.file,u=c.addRow,m=c.generateNewRow,d=o.a.useState(!1),w=Object(f.a)(d,2),b=w[0],v=w[1],E=o.a.useState(),g=Object(f.a)(E,2),h=g[0],C=g[1];function x(){a(),v(!1)}return o.a.createElement("div",null,o.a.createElement("div",{onClick:function(){v(!0)}},l),o.a.createElement(p.Dialog,{open:b,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(p.DialogTitle,{id:"alert-dialog-title"},"Add row below previous?"),o.a.createElement(p.DialogContent,null,o.a.createElement(p.DialogContentText,{id:"alert-dialog-description"},"Columns with 50%+ unique values will not be duplicated."),o.a.createElement(p.Divider,null),o.a.createElement("br",null),i.columns.map(function(e,n){var a="";if(!h){var r=m({row:t});return C(r),a}return a=o.a.createElement(p.DialogContentText,{key:e+n},o.a.createElement("strong",null,e,":")," "+h[n])})),o.a.createElement(p.DialogActions,null,o.a.createElement(p.Button,{onClick:x,color:"primary",autoFocus:!0},"Cancel"),o.a.createElement(p.Button,{onClick:function(){u({rowIndex:n,newRow:h}),x()},color:"secondary"},"Add"))))};var v=function(e){var t=e.row,n=e.rowIndex,a=e.menuClose,l=e.clickableComponent,c=o.a.useState(!1),i=Object(f.a)(c,2),u=i[0],m=i[1],d=Object(r.useContext)(s.a),w=d.file,b=d.deleteRow;function v(){a(),m(!1)}return o.a.createElement("div",null,o.a.createElement("div",{onClick:function(){m(!0)}},l),o.a.createElement(p.Dialog,{open:u,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(p.DialogTitle,{id:"alert-dialog-title"},"Delete this row?"),o.a.createElement(p.DialogContent,null,o.a.createElement(p.DialogContentText,{id:"alert-dialog-description"},"There is no undo feature, this is permanent."),o.a.createElement(p.Divider,null),o.a.createElement("br",null),w.columns.map(function(e,n){return o.a.createElement(p.DialogContentText,{key:e+n},o.a.createElement("strong",null,e,":"),o.a.createElement("span",null,t[n]))})),o.a.createElement(p.DialogActions,null,o.a.createElement(p.Button,{onClick:v,color:"primary",autoFocus:!0},"Cancel"),o.a.createElement(p.Button,{onClick:function(){b({rowIndex:n}),v()},color:"secondary"},"Delete"))))};var E=function(e){var t=e.rowIndex,n=e.row,a=o.a.useState(null),l=Object(f.a)(a,2),c=l[0],i=l[1],u=Object(r.useContext)(s.a),m=u.moveRowUp,d=u.moveRowDown,E=Boolean(c);function g(){i(null)}return o.a.createElement("div",null,o.a.createElement(p.IconButton,{style:{padding:0},"aria-label":"Actions","aria-owns":E?"row-menu":void 0,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},o.a.createElement(w.MoreVert,null)),o.a.createElement(p.Menu,{id:"row-menu",anchorEl:c,open:E,onClose:g},o.a.createElement(p.MenuItem,{onClick:function(){m({rowIndex:t}),g()}},o.a.createElement(p.ListItemIcon,null,o.a.createElement(w.ArrowDropUp,null)),o.a.createElement(p.Typography,null,"Move Up")),o.a.createElement(b,{row:n,rowIndex:t,menuClose:g,clickableComponent:o.a.createElement(p.MenuItem,null,o.a.createElement(p.ListItemIcon,null,o.a.createElement(w.AddCircle,null)),o.a.createElement(p.Typography,null,"Add Row"))}),o.a.createElement(v,{row:n,rowIndex:t,menuClose:g,clickableComponent:o.a.createElement(p.MenuItem,null,o.a.createElement(p.ListItemIcon,null,o.a.createElement(w.RemoveCircle,null)),o.a.createElement(p.Typography,null,"Delete Row"))}),o.a.createElement(p.MenuItem,{onClick:function(){d({rowIndex:t}),g()}},o.a.createElement(p.ListItemIcon,null,o.a.createElement(w.ArrowDropDown,null)),o.a.createElement(p.Typography,null,"Move Down"))))},g=Object(l.createMuiTheme)({typography:{useNextVariants:!0},overrides:{MuiTableCell:{root:{padding:"0 8px 0 8px",textAlign:"unset",maxWidth:"30em"}},MuiTableRow:{root:{height:"unset"}},MUIDataTable:{root:{},responsiveScroll:{maxHeight:"unset",overflowX:"unset",overflowY:"unset"}},MuiToolbar:{root:{top:0,position:"sticky",background:"white",zIndex:"100"}},MUIDataTableHeadCell:{fixedHeader:{top:"62px"},toolButton:{whiteSpace:"nowrap"}},MuiTable:{root:{position:"sticky",bottom:0,background:"white"}}}});t.default=Object(l.withStyles)(function(e){return{root:{padding:"1em"}}})(function(e){var t,n,r=e.classes,c=e.file,u=e.file,s=u.title,m=u.columns,f=u.data,p=e.raw,w=e.options;if(m&&f){var b={name:"Actions",options:{sort:!0,filter:!1,customBodyRender:function(e,t,n){return o.a.createElement(E,{rowIndex:e,row:c.data[e]})}}};(t=m.map(function(e){return{name:e,options:{customBodyRender:function(e,t,n){return o.a.createElement(d,{value:e,tableMeta:t,raw:p})}}}})).unshift(b),n=f.map(function(e,t){return[t].concat(Object(a.a)(e))})}return o.a.createElement("div",{className:r.root},o.a.createElement(l.MuiThemeProvider,{theme:g},o.a.createElement(i.a,{title:s,data:n,columns:t,options:w})))})},87:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return i});var a=n(39),r=n.n(a),o=n(86),l=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,o,l,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,u(t);case 3:l=e.sent,i=c(l),a=i.columns,o=i.data,n=t.name;case 8:return e.abrupt("return",{title:n,columns:a,data:o});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t={};if(e){var n=e.split("\n").map(function(e){return e.split("\t")}).filter(function(e){return e&&e.length>1});t={columns:n.shift(),data:n}}return t},i=function(e){var t="";return e&&(t=e.map(function(e){return e.join("\t")}).join("\n")),t},u=function(e){return new Promise(function(t,n){var a=new FileReader;a.onload=function(e){var n=e.target.result;t(n)},a.readAsText(e)})}}},[[5463,1,2]]]);
//# sourceMappingURL=main.b960bf27.chunk.js.map
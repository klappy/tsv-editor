(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5437:function(e,t,n){e.exports=n(5670)},5442:function(e,t,n){},5443:function(e,t,n){},5669:function(e,t){},5670:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(18),l=n.n(o),c=(n(5442),n(5443),n(17)),i=n(16),u=n(36),s=n.n(u),m=n(78),d=n(225),f=n(34),p=function(){var e=Object(m.a)(s.a.mark(function e(t){var n,a,r,o,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,E(t);case 3:o=e.sent,l=v(o),a=l.columns,r=l.data,n=t.name;case 8:return e.abrupt("return",{title:n,columns:a,data:r});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t={};if(e){var n=e.split("\n").map(function(e){return e.split("\t")}).filter(function(e){return e&&e.length>1});t={columns:n.shift(),data:n}}return t},w=function(e){var t="";return e&&(t=e.map(function(e){return e.join("\t")}).join("\n")),t},E=function(e){return new Promise(function(t,n){var a=new FileReader;a.onload=function(e){var n=e.target.result;t(n)},a.readAsText(e)})},b=Object(c.withStyles)(function(e){return{fab:{margin:e.spacing.unit}}})(function(e){e.classes;var t=e.setFile;return r.a.createElement(d.FilePicker,{extensions:["tsv"],onChange:function(){var e=Object(m.a)(s.a.mark(function e(n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(n);case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){alert(e)}},r.a.createElement(f.c,null))}),h=n(79),g=n(55),x=n(33),I=n(227),y=n.n(I),C=r.a.createContext();function j(e){var t=e.children,n=Object(a.useState)({}),o=Object(x.a)(n,2),l=o[0],c=o[1],i={file:l,setFile:c,addRow:function(e){var t=e.rowIndex,n=l.data.slice(0),a=l.columns.length,r=Array(a).fill(""),o=Object(g.a)(n);o.splice(t+1,0,r);var i=Object(h.a)({},l,{data:o});c(i)},deleteRow:function(e){var t=e.rowIndex,n=l.data.slice(0);n.splice(t,1);var a=Object(h.a)({},l,{data:n});c(a)},editCell:function(e){var t=e.rowIndex,n=e.columnIndex,a=e.value,r=l.data.slice(0);r[t][n-1]=a;var o=Object(h.a)({},l,{data:r});c(o)},downloadFile:function(){if(l.columns&&l.data){var e=Object(g.a)(l.data);e.unshift(l.columns);var t=w(e);y()(t,l.title)}}};return r.a.createElement(C.Provider,{value:i},t)}var O=C.Consumer,T=Object(c.withStyles)({root:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10}})(function(e){var t=e.classes;return r.a.createElement(O,null,function(e){var n=e.file,a=e.setFile;return r.a.createElement("div",{className:t.root},r.a.createElement(i.AppBar,{position:"static"},r.a.createElement(i.Toolbar,{variant:"dense"},r.a.createElement(i.IconButton,{className:t.menuButton,color:"inherit","aria-label":"Open"},r.a.createElement(b,{setFile:a})),r.a.createElement(i.Typography,{variant:"h6",color:"inherit"},n.title))))})}),k=n(228),B=n.n(k),M=n(229),D=n.n(M),R=new(n(230).a);R.addRule("linebreaks",{filter:["br"],replacement:function(){return"<br>"}});var S=function(e){return D()(e,{sanitize:!0})},F=Object(c.withStyles)(function(e){return{}})(function(e){e.classes;var t=e.value,n=(e.tableMeta,e.tableMeta),a=n.columnIndex,o=n.rowIndex,l=t.replace(/<br>/gi,"\n");return r.a.createElement(O,null,function(e){var t=e.editCell;return r.a.createElement("div",{dir:"auto",contentEditable:!0,onBlur:function(e){var n=function(e){return R.turndown(e).replace(/\n/g,"<br>")}(e.target.innerHTML);t({rowIndex:o,columnIndex:a,value:n})},dangerouslySetInnerHTML:{__html:S(l)}})})});var A=function(e){var t=e.rowIndex,n=e.columns,a=e.row,o=e.rowAction,l=e.clickableComponent,c=r.a.useState(!1),u=Object(x.a)(c,2),s=u[0],m=u[1];function d(){m(!1)}var f=n.map(function(e,t){return r.a.createElement(i.DialogContentText,{key:e+t},r.a.createElement("strong",null,e,":")," "+a[t])});return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){m(!0)}},l),r.a.createElement(i.Dialog,{open:s,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(i.DialogTitle,{id:"alert-dialog-title"},"Delete this row?"),r.a.createElement(i.DialogContent,null,r.a.createElement(i.DialogContentText,{id:"alert-dialog-description"},"Deleting this row is permanent. You will have to access the file that was imported to recover this data."),f),r.a.createElement(i.DialogActions,null,r.a.createElement(i.Button,{onClick:d,color:"primary",autoFocus:!0},"Cancel"),r.a.createElement(i.Button,{onClick:function(){o({rowIndex:t}),m(!1)},color:"secondary"},"Delete"))))};var P=function(e){var t=e.rowIndex,n=e.columns,a=e.row,o=r.a.useState(null),l=Object(x.a)(o,2),c=l[0],u=l[1],s=Boolean(c);function m(e){u(e.currentTarget)}function d(){u(null)}return r.a.createElement(O,null,function(e){e.file,e.setFile;var o=e.addRow,l=e.deleteRow;return r.a.createElement("div",null,r.a.createElement(i.IconButton,{style:{padding:0},"aria-label":"Actions","aria-owns":s?"row-menu":void 0,"aria-haspopup":"true",onClick:m},r.a.createElement(f.d,null)),r.a.createElement(i.Menu,{id:"row-menu",anchorEl:c,open:s,onClose:d},r.a.createElement(i.MenuItem,{onClick:function(){o({rowIndex:t}),d()}},r.a.createElement(i.ListItemIcon,null,r.a.createElement(f.a,null)),r.a.createElement(i.Typography,null,"Add Row")),r.a.createElement(A,{rowIndex:t,columns:n,row:a,rowAction:function(e){var t=e.rowIndex;l({rowIndex:t}),d()},clickableComponent:r.a.createElement(i.MenuItem,null,r.a.createElement(i.ListItemIcon,null,r.a.createElement(f.e,null)),r.a.createElement(i.Typography,null,"Delete Row"))})))})},N=function(){return Object(c.createMuiTheme)({typography:{useNextVariants:!0},overrides:{MuiTableCell:{root:{padding:"0 8px 0 8px",textAlign:"unset"}},MuiTableRow:{root:{height:"unset"}},MUIDataTable:{responsiveScroll:{maxHeight:"unset"}},MUIDataTableBodyCell:{root:{maxWidth:"33%"}}}})},L=Object(c.withStyles)(function(e){return{root:{padding:"1em"}}})(function(e){var t,n,a=e.classes,o=(e.file,e.file),l=o.title,i=o.columns,u=o.data,s=e.options;i&&u&&(console.log(u.length),(t=i.map(function(e){return{name:e,options:{customBodyRender:function(e,t,n){return r.a.createElement(F,{value:e,tableMeta:t})}}}})).unshift({name:"",options:{sort:!1,filter:!1}}),n=u.map(function(e,t){return[r.a.createElement(P,{rowIndex:t,columns:i,row:e})].concat(Object(g.a)(e))}));return r.a.createElement("div",{className:a.root},r.a.createElement(c.MuiThemeProvider,{theme:N()},r.a.createElement(B.a,{title:l,data:n,columns:t,options:s})))});var H=Object(c.withStyles)({iconButton:{}},{name:"CustomToolbar"})(function(e){var t=e.classes;return r.a.createElement(O,null,function(e){var n=e.downloadFile;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Tooltip,{title:"Download TSV"},r.a.createElement(i.IconButton,{className:t.iconButton,onClick:n},r.a.createElement(f.b,null))))})}),W=function(){var e=Object(a.useState)(25),t=Object(x.a)(e,2),n=t[0],o=t[1],l={print:!1,resizableColumns:!0,selectableRows:!1,rowsPerPage:n,rowsPerPageOptions:[25,50,100],onChangeRowsPerPage:function(e){o(e)},download:!1,customToolbar:function(){return r.a.createElement(H,null)}};return r.a.createElement(O,null,function(e){var t=e.file;return r.a.createElement(L,{file:t,options:l})})},z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null,r.a.createElement(T,null),r.a.createElement(W,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5437,1,2]]]);
//# sourceMappingURL=main.24276482.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5436:function(e,t,n){e.exports=n(5673)},5441:function(e,t,n){},5442:function(e,t,n){},5672:function(e,t){},5673:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(18),l=n.n(o),c=(n(5441),n(5442),n(17)),i=n(11),u=n(36),s=n.n(u),m=n(79),d=n(229),f=n(26),w=function(){var e=Object(m.a)(s.a.mark(function e(t){var n,a,r,o,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,E(t);case 3:o=e.sent,l=p(o),a=l.columns,r=l.data,n=t.name;case 8:return e.abrupt("return",{title:n,columns:a,data:r});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t={};if(e){var n=e.split("\n").map(function(e){return e.split("\t")}).filter(function(e){return e&&e.length>1});t={columns:n.shift(),data:n}}return t},v=function(e){var t="";return e&&(t=e.map(function(e){return e.join("\t")}).join("\n")),t},E=function(e){return new Promise(function(t,n){var a=new FileReader;a.onload=function(e){var n=e.target.result;t(n)},a.readAsText(e)})},b=n(49),g=n(50),h=n(24),x=n(230),C=n.n(x),j=r.a.createContext();function O(e){var t=e.children,n=Object(a.useState)({}),o=Object(h.a)(n,2),l=o[0],c=o[1],i=function(e,t,n){var a=Object(b.a)(e),r=n<0,o=n>e.length-1;if(!r&&!o){var l=a[t];a.splice(t,1),a.splice(n,0,l)}return a};var u=function(e){var t=e.length;return t>9&&(t=9),Math.random().toString(36).substr(2,t)},s={file:l,setFile:c,addRow:function(e){var t=e.rowIndex,n=e.newRow,a=l.data.slice(0),r=Object(b.a)(a);r.splice(t+1,0,n);var o=Object(g.a)({},l,{data:r});c(o)},deleteRow:function(e){var t=e.rowIndex,n=l.data.slice(0);n.splice(t,1);var a=Object(g.a)({},l,{data:n});c(a)},editCell:function(e){var t=e.rowIndex,n=e.columnIndex,a=e.value,r=l.data.slice(0);r[t][n-1]=a;var o=Object(g.a)({},l,{data:r});c(o)},downloadFile:function(){if(l.columns&&l.data){var e=Object(b.a)(l.data);e.unshift(l.columns);var t=v(e);C()(t,l.title)}},generateNewRow:function(e){var t=e.row,n={},a={};l.data.forEach(function(e){e.forEach(function(e,t){var r=l.columns[t];n[r]||(n[r]={}),n[r][e]||(n[r][e]=0),n[r][e]++;var o=e.length;a[r]||(a[r]={}),a[r][o]||(a[r][o]=0),a[r][o]++})});var r=l.data.length;return t.map(function(e,t){var o=l.columns[t],c=Object.keys(n[o]).length/r,i=c<.5,s=Object.keys(a[o]).length,m="";if(i)m=e;else if(c>.99&&s<=2){var d=e.length;m=u({length:d})}return m})},moveRowUp:function(e){var t=e.rowIndex,n=i(l.data,t,t-1),a=Object(g.a)({},l,{data:n});c(a)},moveRowDown:function(e){var t=e.rowIndex,n=i(l.data,t,t+1),a=Object(g.a)({},l,{data:n});c(a)}};return r.a.createElement(j.Provider,{value:s},t)}var I=Object(c.withStyles)(function(e){return{fab:{margin:e.spacing.unit}}})(function(e){e.classes;var t=Object(a.useContext)(j).setFile;return r.a.createElement(d.FilePicker,{extensions:["tsv"],onChange:function(){var e=Object(m.a)(s.a.mark(function e(n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){alert(e)}},r.a.createElement(f.e,null))}),y=Object(c.withStyles)({root:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10}})(function(e){var t=e.classes,n=Object(a.useContext)(j).file;return r.a.createElement("div",{className:t.root},r.a.createElement(i.AppBar,{position:"static"},r.a.createElement(i.Toolbar,{variant:"dense"},r.a.createElement(i.IconButton,{className:t.menuButton,color:"inherit","aria-label":"Open"},r.a.createElement(I,null)),r.a.createElement(i.Typography,{variant:"h6",color:"inherit"},n.title))))}),k=n(232),T=n.n(k),R=n(233),D=n.n(R),B=r.a.createContext();function M(e){var t=e.children,n=Object(a.useState)(!1),o=Object(h.a)(n,2),l=o[0],c=o[1],i={raw:l,toggleRaw:function(){c(!l)}};return r.a.createElement(B.Provider,{value:i},t)}var S=Object(c.withStyles)(function(e){return{}})(function(e){e.classes;var t=e.value,n=(e.tableMeta,e.tableMeta),o=n.columnIndex,l=n.rowIndex,c=Object(a.useContext)(j).editCell,i=Object(a.useContext)(B).raw;return r.a.createElement(D.a,{style:{padding:"0.5em"},raw:i,markdown:t,inputFilters:[[/<br>/gi,"\n"]],outputFilters:[["\n","<br>"]],handleChange:function(e){c({rowIndex:l,columnIndex:o,value:e})}})});var P=function(e){var t=e.row,n=e.rowIndex,o=e.menuClose,l=e.clickableComponent,c=Object(a.useContext)(j),u=c.file,s=c.addRow,m=c.generateNewRow,d=r.a.useState(!1),f=Object(h.a)(d,2),w=f[0],p=f[1],v=r.a.useState(),E=Object(h.a)(v,2),b=E[0],g=E[1];function x(){o(),p(!1)}return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){p(!0)}},l),r.a.createElement(i.Dialog,{open:w,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(i.DialogTitle,{id:"alert-dialog-title"},"Add row below previous?"),r.a.createElement(i.DialogContent,null,r.a.createElement(i.DialogContentText,{id:"alert-dialog-description"},"Columns with 50%+ unique values will not be duplicated."),r.a.createElement(i.Divider,null),r.a.createElement("br",null),u.columns.map(function(e,n){var a="";if(!b){var o=m({row:t});return g(o),a}return a=r.a.createElement(i.DialogContentText,{key:e+n},r.a.createElement("strong",null,e,":")," "+b[n])})),r.a.createElement(i.DialogActions,null,r.a.createElement(i.Button,{onClick:x,color:"primary",autoFocus:!0},"Cancel"),r.a.createElement(i.Button,{onClick:function(){s({rowIndex:n,newRow:b}),x()},color:"secondary"},"Add"))))};var A=function(e){var t=e.row,n=e.rowIndex,o=e.menuClose,l=e.clickableComponent,c=r.a.useState(!1),u=Object(h.a)(c,2),s=u[0],m=u[1],d=Object(a.useContext)(j),f=d.file,w=d.deleteRow;function p(){o(),m(!1)}return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){m(!0)}},l),r.a.createElement(i.Dialog,{open:s,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(i.DialogTitle,{id:"alert-dialog-title"},"Delete this row?"),r.a.createElement(i.DialogContent,null,r.a.createElement(i.DialogContentText,{id:"alert-dialog-description"},"There is no undo feature, this is permanent."),r.a.createElement(i.Divider,null),r.a.createElement("br",null),f.columns.map(function(e,n){return r.a.createElement(i.DialogContentText,{key:e+n},r.a.createElement("strong",null,e,":"),r.a.createElement("span",null,t[n]))})),r.a.createElement(i.DialogActions,null,r.a.createElement(i.Button,{onClick:p,color:"primary",autoFocus:!0},"Cancel"),r.a.createElement(i.Button,{onClick:function(){w({rowIndex:n}),p()},color:"secondary"},"Delete"))))};var F=function(e){var t=e.rowIndex,n=e.row,o=r.a.useState(null),l=Object(h.a)(o,2),c=l[0],u=l[1],s=Object(a.useContext)(j),m=s.moveRowUp,d=s.moveRowDown,w=Boolean(c);function p(){u(null)}return r.a.createElement("div",null,r.a.createElement(i.IconButton,{style:{padding:0},"aria-label":"Actions","aria-owns":w?"row-menu":void 0,"aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},r.a.createElement(f.h,null)),r.a.createElement(i.Menu,{id:"row-menu",anchorEl:c,open:w,onClose:p},r.a.createElement(i.MenuItem,{onClick:function(){m({rowIndex:t}),p()}},r.a.createElement(i.ListItemIcon,null,r.a.createElement(f.c,null)),r.a.createElement(i.Typography,null,"Move Up")),r.a.createElement(P,{row:n,rowIndex:t,menuClose:p,clickableComponent:r.a.createElement(i.MenuItem,null,r.a.createElement(i.ListItemIcon,null,r.a.createElement(f.a,null)),r.a.createElement(i.Typography,null,"Add Row"))}),r.a.createElement(A,{row:n,rowIndex:t,menuClose:p,clickableComponent:r.a.createElement(i.MenuItem,null,r.a.createElement(i.ListItemIcon,null,r.a.createElement(f.i,null)),r.a.createElement(i.Typography,null,"Delete Row"))}),r.a.createElement(i.MenuItem,{onClick:function(){d({rowIndex:t}),p()}},r.a.createElement(i.ListItemIcon,null,r.a.createElement(f.b,null)),r.a.createElement(i.Typography,null,"Move Down"))))},N=Object(c.createMuiTheme)({typography:{useNextVariants:!0},overrides:{MuiTableCell:{root:{padding:"0 8px 0 8px",textAlign:"unset",maxWidth:"30em"}},MuiTableRow:{root:{height:"unset"}},MUIDataTable:{responsiveScroll:{maxHeight:"unset"}}}}),L=Object(c.withStyles)(function(e){return{root:{padding:"1em"}}})(function(e){var t,n,a=e.classes,o=(e.file,e.file),l=o.title,i=o.columns,u=o.data,s=e.raw,m=e.options;i&&u&&((t=i.map(function(e){return{name:e,options:{customBodyRender:function(e,t,n){return r.a.createElement(S,{value:e,tableMeta:t,raw:s})}}}})).unshift({name:"Actions",options:{sort:!1,filter:!1}}),n=u.map(function(e,t){return[r.a.createElement(F,{rowIndex:t,row:e})].concat(Object(b.a)(e))}));return r.a.createElement("div",{className:a.root},r.a.createElement(c.MuiThemeProvider,{theme:N},r.a.createElement(T.a,{title:l,data:n,columns:t,options:m})))});var U=Object(c.withStyles)({iconButton:{}},{name:"CustomToolbar"})(function(e){var t=e.classes,n=Object(a.useContext)(j).downloadFile,o=Object(a.useContext)(B),l=o.raw,c=o.toggleRaw;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Tooltip,{title:"Toggle Preview/Raw"},r.a.createElement(i.IconButton,{className:t.iconButton,onClick:c},l?r.a.createElement(f.f,null):r.a.createElement(f.g,null))),r.a.createElement(i.Tooltip,{title:"Download TSV"},r.a.createElement(i.IconButton,{className:t.iconButton,onClick:n},r.a.createElement(f.d,null))))}),W=function(){var e=Object(a.useState)(25),t=Object(h.a)(e,2),n=t[0],o=t[1],l=Object(a.useContext)(j).file,c={responsive:"scroll",print:!1,resizableColumns:!1,selectableRows:!1,rowsPerPage:n,rowsPerPageOptions:[25,50,100],onChangeRowsPerPage:function(e){o(e)},download:!1,customToolbar:function(){return r.a.createElement(U,null)}};return r.a.createElement(M,null,r.a.createElement(L,{file:l,options:c}))},J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null,r.a.createElement(y,null),r.a.createElement(W,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5436,1,2]]]);
//# sourceMappingURL=main.ef8720ea.chunk.js.map